{% extends 'layout.html' %}
{% set light = true %}
{% block title %} {{ guild }} {% endblock %}
{% block head %}
<!-- Bootstrap Data Table Plugin -->
<link rel="stylesheet" href="/static/css/bs-datatable.css" type="text/css"/>
{% endblock %}

{% block content %}
<!-- Page Title
============================================= -->
<section id="page-title">

    <div class="container clearfix">
        <div class="row">
            <div class="col-md-6">
                <h1> {{ guild }}</h1>
                <span>{{ guild.tag }} </span>
            </div>
            <div class="col-md-6">
                <img class="pull-right" src="/static/img/skilltiers/{{guild.skillTier}}.png" alt="Average skilltier"
                     width="100px"/>
            </div>
        </div>
    </div>

</section><!-- #page-title end -->

<!-- Page Sub Menu
============================================= -->
<div id="page-menu">

    <div id="page-menu-wrap">

        <div class="container clearfix">

            <div class="menu-title"><span> {{ guild.tag }} </span></div>

            <nav>
                <ul id="submenu">
                    <li class="current"><a href="#" data-scrollto="#overview">
                        <div>Overview</div>
                    </a></li>
                    <li><a href="#" data-scrollto="#members">
                        <div>Members</div>
                    </a></li>
                    <li><a href="#" data-scrollto="#matches">
                        <div>Matches</div>
                    </a></li>
                </ul>
            </nav>

            <div id="page-submenu-trigger"><i class="icon-reorder"></i></div>

        </div>

    </div>

</div><!-- #page-menu end -->

<!-- Content
============================================= -->
<section id="content">

    <div class="content-wrap">

        <div class="container clearfix">

            <div id="overview" class="row">
                <p><span class="dropcap">F</span>oster best practices effectiveness inspire breakthroughs solve immunize
                    turmoil. Policy dialogue peaceful The Elders rural global support. Process inclusive innovate
                    readiness, public sector complexity. Lifting people up cornerstone partner, technology working
                    families civic engagement activist recognize potential global network. Countries tackling solution
                    respond change-makers tackle. Assistance, giving; fight against malnutrition experience in the field
                    lasting change scalable. Empowerment long-term, fairness policy community progress social
                    responsibility; Cesar Chavez recognition. Expanding community ownership visionary indicator pursue
                    these aspirations accessibility. Achieve; worldwide, life-saving initiative facilitate. New
                    approaches, John Lennon humanitarian relief fundraise vaccine Jane Jacobs community health workers
                    Oxfam. Our ambitions informal economies.</p>

                <blockquote class="topmargin bottommargin">
                    <p>Human rights healthcare immunize; advancement grantees. Medical supplies; meaningful, truth
                        technology catalytic effect. Promising development capacity building international enable
                        poverty.</p>
                </blockquote>

                <div class="col_half nobottommargin">

                    <p>Provide, Aga Khan, interconnectivity governance fairness replicable, new approaches visionary
                        implementation. End hunger evolution, future promising development youth. Public sector,
                        small-scale farmers; harness facilitate gender. Contribution dedicated global change movements,
                        prosperity accelerate progress citizens of change. Elevate; accelerate reduce child mortality;
                        billionaire philanthropy fluctuation, plumpy'nut care opportunity catalyze. Partner deep.</p>

                </div>

                <div class="col_half nobottommargin col_last">

                    <p>Frontline harness criteria governance freedom contribution. Campaign Angelina Jolie natural
                        resources, Rockefeller peaceful philanthropy human potential. Justice; outcomes reduce carbon
                        emissions nonviolent resistance human being. Solve innovate aid communities; benefit truth rural
                        development UNICEF meaningful work. Generosity Action Against Hunger relief; many voices impact
                        crisis situation poverty pride. Vaccine carbon.</p>

                </div>

                <div class="col_half nobottommargin">

                    <p>Provide, Aga Khan, interconnectivity governance fairness replicable, new approaches visionary
                        implementation. End hunger evolution, future promising development youth. Public sector,
                        small-scale farmers; harness facilitate gender. Contribution dedicated global change movements,
                        prosperity accelerate progress citizens of change. Elevate; accelerate reduce child mortality;
                        billionaire philanthropy fluctuation, plumpy'nut care opportunity catalyze. Partner deep.</p>

                </div>

                <div class="col_half nobottommargin col_last">

                    <p>Frontline harness criteria governance freedom contribution. Campaign Angelina Jolie natural
                        resources, Rockefeller peaceful philanthropy human potential. Justice; outcomes reduce carbon
                        emissions nonviolent resistance human being. Solve innovate aid communities; benefit truth rural
                        development UNICEF meaningful work. Generosity Action Against Hunger relief; many voices impact
                        crisis situation poverty pride. Vaccine carbon.</p>

                </div>

                <div class="col_half nobottommargin">

                    <p>Provide, Aga Khan, interconnectivity governance fairness replicable, new approaches visionary
                        implementation. End hunger evolution, future promising development youth. Public sector,
                        small-scale farmers; harness facilitate gender. Contribution dedicated global change movements,
                        prosperity accelerate progress citizens of change. Elevate; accelerate reduce child mortality;
                        billionaire philanthropy fluctuation, plumpy'nut care opportunity catalyze. Partner deep.</p>

                </div>

                <div class="col_half nobottommargin col_last">

                    <p>Frontline harness criteria governance freedom contribution. Campaign Angelina Jolie natural
                        resources, Rockefeller peaceful philanthropy human potential. Justice; outcomes reduce carbon
                        emissions nonviolent resistance human being. Solve innovate aid communities; benefit truth rural
                        development UNICEF meaningful work. Generosity Action Against Hunger relief; many voices impact
                        crisis situation poverty pride. Vaccine carbon.</p>

                </div>
            </div>

            <div id="members" class="row">
                <table id="member_datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Skill tier</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for member in guild._members %}
                    <tr>
                        <td> {{ member }}</td>
                        <td><img class="pull-right" src="/static/img/skilltiers/{{member.skillTier}}.png"
                                 alt="Member's skilltier" width="25px"/></td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
                <div style="height: 2000px;"></div>
            </div>

            <div id="matches" class="row">
                <div class="table-responsive">
                    <table id="match_datatable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                        <thead>
                        <tr>
                            <th>Left side</th>
                            <th>Right side</th>
                            <th>Duration</th>
                            <th>Date</th>
                            <th>Mode</th>
                            <th>Id</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for roster in guild._matches %}
                        <tr>
                            <td> {{ roster.match.left.heroes }}</td>
                            <td> {{ roster.match.right.heroes }}</td>
                            <td> {{ roster.match.duration }}</td>
                            <td> {{ roster.match.createdAt }}</td>
                            <td> {{ roster.match.queue }}</td>
                            <td> {{ roster.match.id }}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div style="height: 2000px;"></div>
            </div>

        </div>

    </div>

</section><!-- #content end -->
{% endblock %}

{% block js %}
<!-- Bootstrap Data Table Plugin -->
<script type="text/javascript" src="/static/js/bs-datatable.js"></script>

<script>
$(function() {
    $(document).on("scroll", onScroll);

    $('#member_datatable').dataTable();
    $('#match_datatable').dataTable();
});

function onScroll(event){
    var scrollPos = $(document).scrollTop();
    $('#submenu a').each(function () {
        var currLink = $(this);
        var refElement = $(currLink.data("scrollto"));
        if (refElement.position().top <= scrollPos && refElement.position().top + refElement.height() > scrollPos) {
            $('#submenu li').removeClass("current");
            currLink.parent().addClass("current");
        }
        else{
            currLink.removeClass("current");
        }
    });
}

</script>
{% endblock %}